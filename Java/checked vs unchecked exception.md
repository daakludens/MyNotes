# Checked Exception vs Unchecked Exception
### checked exception
- 컴파일 때 실행
- 프로그램의 외적 영향으로 생김
- throws 키워드나 try-catch 문을 사용해 예외 처리 가능
- 사용자가 해당 예외로 부터 복구할 수 잇다
- 예외 발생 시 rollback을 하지 않음
- 예시 : IOException, SQLException

<br>

### unchecked exception
- 런타임 때 실행
- 프로그램 내부에서 발생
- thrwos나 try-catch문은 쓰지 않음
- 사용자가 해당 예외에서 복구할 수 없다
- 예외 발생 시 rollback을 해야 함
- 예시 : 

<br>

예외 처리 방법에는 예외 복구, 회피, 전환의 방법이 있다
- 예외 복구 : 그 자리에서 바로 예외를 수습한다
- 예외 회피 : 해당 메서드를 부른 클래스에 예외를 던진다
- 예외 전환 : 더 명시적인 예외로 바꿔서 예외를 던진다.

<br>

참고로 검사 처리(checked exception)은 적절히 쓰면 안정성 있는 API가 되지만 남용하게 되면 쓰기 불편하고 어려운 API가 된다.
따라서 정말 써야할 때만 적용해주는 게 좋다.
적용할 때도 먼저 옵셔널 반환으로 충분한지 체크한 다음, 정보가 불충분해 보인다면 다른 데이터를 넘겨주는 방식으로 처리하자.

또한 exception을 문서화하는 게 중요한데, 사용자의 후처리가 필요한 checked exception은 @thrwos로 명시하고, unchecked의 경우 어노테이션은 필요 없지만 설명을 붙여놓는게 좋다.

예외 상황이 발생된 객체의 경우 실패 원자성을 띄고 있어야 한다. 이 의미는 예외가 발생하기 전 상태가 온전하고 같은 특징을 의미한다. 이전 객체를 잘 보존하기 위해서는 여러 방식을 사용할 수 있다.
- 매개변수 유효성 검사
- 예외 발생 가능한 기능 전에 배치
- 임시 복사본을 만들어 실행 후 원본과 바꿔치기
또한 이런 실패 원자성을 지키지 못할 경우에는 예외 발생 시 객체가 어떻게 변형되는지에  API 문서에 적어야 한다.
